
"""Initial schema creation

Revision ID: 83cd04ac55b9
Revises: 
Create Date: 2025-10-14 12:45:06.094641

"""
from typing import Sequence, Union

from alembic import op
import sqlalchemy as sa
import sqlmodel
from sqlalchemy import text


# revision identifiers, used by Alembic.
revision: str = '83cd04ac55b9'
down_revision: Union[str, Sequence[str], None] = None
branch_labels: Union[str, Sequence[str], None] = None
depends_on: Union[str, Sequence[str], None] = None


def upgrade() -> None:
    """Upgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.create_table('company_searches',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('search_keyword', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('company_links',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('company_search_id', sa.Uuid(), nullable=False),
    sa.Column('website_link', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False),
    sa.ForeignKeyConstraint(['company_search_id'], ['company_searches.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('company_details',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('company_link_id', sa.Uuid(), nullable=False),
    sa.Column('company_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('linkedin_link', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('facebook_link', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('x_link', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('instagram_link', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('youtube_link', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('other_links', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('phones', sa.ARRAY(sa.String()), nullable=True),
    sa.Column('about_page_text', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('contact_page_text', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False),
    sa.ForeignKeyConstraint(['company_link_id'], ['company_links.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('company_employees',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('company_detail_id', sa.Uuid(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('designation_or_headline', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('location', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('linkedin_profile_link', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('other_info', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False),
    sa.ForeignKeyConstraint(['company_detail_id'], ['company_details.id'], ),
    sa.PrimaryKeyConstraint('id'),
    sa.UniqueConstraint('linkedin_profile_link')
    )
    op.create_table('employee_details',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('company_employee_id', sa.Uuid(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('headline', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('location', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('contact_info_url', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('public_profile_url', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('about', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('current_company_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False),
    sa.ForeignKeyConstraint(['company_employee_id'], ['company_employees.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('connection_details',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('employee_detail_id', sa.Uuid(), nullable=False),
    sa.Column('connection_degree', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('total_connections', sa.Integer(), nullable=True),
    sa.Column('mutual_connections', sa.Integer(), nullable=True),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False),
    sa.ForeignKeyConstraint(['employee_detail_id'], ['employee_details.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('educations',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('employee_detail_id', sa.Uuid(), nullable=False),
    sa.Column('degree', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('institution_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('cgpa', sa.Numeric(), nullable=True),
    sa.Column('skills', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('duration', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False),
    sa.ForeignKeyConstraint(['employee_detail_id'], ['employee_details.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('experiences',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('employee_detail_id', sa.Uuid(), nullable=False),
    sa.Column('title', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('company', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('time_duration', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('location', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('work_type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False),
    sa.CheckConstraint("work_type IN ('onsite', 'remote', 'hybrid')", name='check_work_type'),
    sa.ForeignKeyConstraint(['employee_detail_id'], ['employee_details.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('featured_sections',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('employee_detail_id', sa.Uuid(), nullable=False),
    sa.Column('type', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('title', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('description', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('link', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False),
    sa.ForeignKeyConstraint(['employee_detail_id'], ['employee_details.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('licenses_certifications',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('employee_detail_id', sa.Uuid(), nullable=False),
    sa.Column('name', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('issuing_organization', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('issue_date', sa.DateTime(), nullable=True),
    sa.Column('credential_url', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False),
    sa.ForeignKeyConstraint(['employee_detail_id'], ['employee_details.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('skills',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('employee_detail_id', sa.Uuid(), nullable=False),
    sa.Column('skill_title', sqlmodel.sql.sqltypes.AutoString(), nullable=False),
    sa.Column('where_used', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('endorsed_by', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False),
    sa.ForeignKeyConstraint(['employee_detail_id'], ['employee_details.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    op.create_table('top_voices',
    sa.Column('id', sa.Uuid(), nullable=False),
    sa.Column('employee_detail_id', sa.Uuid(), nullable=False),
    sa.Column('profile_name', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('headline_designation', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('follower_number', sa.Integer(), nullable=True),
    sa.Column('duration', sqlmodel.sql.sqltypes.AutoString(), nullable=True),
    sa.Column('is_deleted', sa.Boolean(), nullable=False),
    sa.Column('created_at', sa.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False),
    sa.Column('updated_at', sa.TIMESTAMP(), server_default=sa.text('CURRENT_TIMESTAMP'), nullable=False),
    sa.ForeignKeyConstraint(['employee_detail_id'], ['employee_details.id'], ),
    sa.PrimaryKeyConstraint('id')
    )
    # ### end Alembic commands ###


def downgrade() -> None:
    """Downgrade schema."""
    # ### commands auto generated by Alembic - please adjust! ###
    op.drop_table('top_voices')
    op.drop_table('skills')
    op.drop_table('licenses_certifications')
    op.drop_table('featured_sections')
    op.drop_table('experiences')
    op.drop_table('educations')
    op.drop_table('connection_details')
    op.drop_table('employee_details')
    op.drop_table('company_employees')
    op.drop_table('company_details')
    op.drop_table('company_links')
    op.drop_table('company_searches')
    # ### end Alembic commands ###
